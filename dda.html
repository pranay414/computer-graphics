<html>
    <head>
        <title>WebGL-Assignment2</title>
    </head>
    <body>
        <canvas id="glCanvas" width="640" height="480" style="border:1px solid black"></canvas>
    </body>
    <script>
        main();
        function main() {
            console.log('Initialising!');
            const canvas = document.getElementById("glCanvas");
            // Initialise the GL context
            let gl = canvas.getContext("2d");
            console.log(canvas);
            console.log(gl);
            if(gl === null) {
                alert("Unable to initialise WebGL.");
                return;
            }
            // Input points
            let x1 = 3, y1 = 2, x2 = 200, y2 = 5;
            dda(x1, y1, x2, y2, gl);
        }

        function dda(x1, y1, x2, y2, gl) {
            let x = x1, y = y1;
            let m = (y2-y1) / (x2-x1);
            console.log(m);
            for(let x = x1, y = y1; y <= y2; x++) {
                y = y + m;
                console.log(`(${x}, ${Math.round(y)})`);
                // Put the point in canvas
                gl.fillRect(Math.round(x), Math.round(y), 2, 2);
            }
        }
    </script>
</html>